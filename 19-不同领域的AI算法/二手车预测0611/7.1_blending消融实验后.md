执行 `7.1_blending_eda_feature_ablation.py` 完成特征递归消融实验后，你会得到一个结果文件 `7.1_blending_eda_feature_ablation_results.csv`，其中每一行都记录了**当前特征组合**、**特征数量**、**Blending验证集MAE**、**RMSE** 等信息。你可以据此科学地决定最终采用哪些特征，具体建议如下：

---

## 1. **分析消融结果曲线**

- **绘制特征数量 vs MAE/RMSE 曲线**  
  通常横轴为特征数量，纵轴为MAE或RMSE。  
  你会发现：  
  - **前期去除冗余/无用特征时，MAE/RMSE基本不变或略有下降**（模型更简洁，泛化更好）。
  - **当去除到某些重要特征后，MAE/RMSE会明显上升**（性能恶化）。

- **寻找“拐点”**  
  - 曲线的“拐点”或“陡升点”前的特征组合，通常是最优的trade-off（性能与复杂度的平衡）。
  - 例如，特征数从76降到40时MAE几乎不变，但降到30后MAE急剧上升，则建议保留40个特征。

---

## 2. **选择最终特征的常用策略**

- **最优性能法**  
  - 选择MAE/RMSE最低的那一组特征（通常是特征最多时）。
  - 适合对性能极致要求、对模型复杂度不敏感的场景。

- **简化优先法**  
  - 在性能损失极小（如MAE增加不超过1%）的前提下，选择特征数最少的那一组。
  - 适合追求模型简洁、推理速度快、易于部署的场景。

- **拐点法**  
  - 选择MAE/RMSE曲线的“拐点”对应的特征组合。
  - 兼顾性能和复杂度，适合大多数实际应用。

---

## 3. **操作步骤举例**

1. **读取消融结果并画图**（可用如下代码）：

    ```python
    import pandas as pd
    import matplotlib.pyplot as plt

    df = pd.read_csv('7.1_blending_eda_feature_ablation_results.csv')
    plt.plot(df['num_features'], df['mae'], marker='o', label='MAE')
    plt.plot(df['num_features'], df['rmse'], marker='x', label='RMSE')
    plt.xlabel('特征数量')
    plt.ylabel('分数')
    plt.title('特征递归消融曲线')
    plt.legend()
    plt.gca().invert_xaxis()  # 特征数多在左，少在右
    plt.show()
    ```

2. **确定最优特征数**  
   - 观察曲线，找到性能陡变点或最优点。
   - 记下对应的 `features` 字段（是一个特征名列表）。

3. **在正式建模脚本中只保留这些特征**  
   - 例如：`X = X[最优特征列表]`。

---

## 4. **注意事项**

- 消融实验结果仅对当前数据、当前模型结构有效，若后续特征工程或模型有大改动，建议重新做消融。
- 若有业务/物理先验知识，也可结合消融结果做人工微调。

---

### 总结

> **最终特征选择 = 性能曲线分析 + 业务需求 + 实际部署需求**  
> 推荐用“拐点法”或“简化优先法”选取特征组合，并在正式建模脚本中应用。

如需自动化选取最优特征组合的代码或进一步可视化分析脚本，可随时告知！