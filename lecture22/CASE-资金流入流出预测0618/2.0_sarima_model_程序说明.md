# 2.0_sarima建模方案——程序说明

---

## 一、功能简介

本方案基于SARIMA（季节性自回归积分滑动平均）模型，对每日申购与赎回总额进行时间序列建模与预测。流程简洁、可解释性强，适用于周期性、趋势性明显的金融时序数据。

---

## 二、输入输出说明

### 输入文件（均位于`2.0_feature_output/`目录）：
- `2.0_sarima_purchase.csv`：每日申购金额，字段为`ds`（日期）、`y`（申购金额）
- `2.0_sarima_redeem.csv`：每日赎回金额，字段为`ds`（日期）、`y`（赎回金额）

### 输出文件（均位于`2.0_sarima_output/`目录）：
- `2.0_sarima_predict.csv`：预测结果，字段为`report_date,purchase,redeem`，无表头，单位为分，整数，覆盖20140901~20140930
- `2.0_sarima_purchase_compare.png`：申购金额历史与预测对比图
- `2.0_sarima_redeem_compare.png`：赎回金额历史与预测对比图

---

## 三、主要流程

1. **特征工程（2.0_feature_engine.py）**
   - 读取原始数据，按天聚合申购/赎回总额
   - 输出极简格式（ds, y），不加复杂特征

2. **SARIMA建模与预测（2.0_sarima_model.py）**
   - 分别对申购和赎回序列建SARIMA模型
   - 训练区间：2014-08-01之前所有历史数据
   - 预测区间：2014-09-01~2014-09-30，共30天
   - 输出预测csv和可视化对比图

---

## 四、参数说明

- SARIMA参数：`order=(5,1,1), seasonal_order=(1,0,2,7)`，可根据实际数据表现调整，参考前期的结果。
- 训练区间、预测区间可在脚本中灵活修改
- 预测结果自动四舍五入为整数，单位为分

---

## 五、注意事项

- 本方案不引入外部特征，仅依赖历史申购/赎回序列
- 若需提升模型表现，可尝试调参或引入节假日、周几等简单特征
- 若历史数据存在极端异常点，建议先做异常值处理
- 输出文件严格按竞赛要求格式生成

---

## 六、适用场景

- 适用于趋势性、周期性明显的金融时序数据预测
- 适合对模型可解释性有要求、或对外部特征依赖较弱的场景

---

> 如需进一步优化（如调参、加特征、模型融合等），可在本方案基础上灵活扩展。 