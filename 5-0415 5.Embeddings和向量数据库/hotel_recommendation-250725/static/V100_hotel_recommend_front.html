<!-- V100_hotel_recommend_front.html
程序说明：
1. 前端页面，支持下拉选择酒店，点击按钮后显示3个最相似酒店的名称、简介和相似度。
2. 通过fetch与Flask后端API交互。
-->
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>酒店内容推荐系统</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; }
        .result { margin-top: 30px; }
        .hotel-item { margin-bottom: 18px; padding: 10px; border-bottom: 1px solid #eee; }
        label { font-weight: bold; }
    </style>
</head>
<body>
    <h2>酒店内容推荐系统</h2>
    <label for="hotel-select">请选择一个酒店：</label>
    <select id="hotel-select"></select>
    <button onclick="getRecommend()">获取相似酒店推荐</button>

    <div class="result" id="result"></div>

    <script>
    // 加载酒店列表
    fetch('/hotels')
        .then(res => res.json())
        .then(data => {
            const select = document.getElementById('hotel-select');
            data.hotels.forEach(hotel => {
                const option = document.createElement('option');
                option.value = hotel.id;
                option.text = hotel.name;
                select.appendChild(option);
            });
        });

    function getRecommend() {
        const hotelId = document.getElementById('hotel-select').value;
        fetch('/recommend', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ hotel_id: hotelId })
        })
        .then(res => res.json())
        .then(data => {
            const resultDiv = document.getElementById('result');
            resultDiv.innerHTML = '<h3>推荐的3个相似酒店：</h3>' +
                data.results.map(item =>
                    `<div class="hotel-item">
                        <b>名称：</b>${item.name}<br>
                        <b>简介：</b>${item.desc}<br>
                        <b>相似度：</b>${item.similarity}
                    </div>`
                ).join('');
        });
    }
    </script>
</body>
</html> 