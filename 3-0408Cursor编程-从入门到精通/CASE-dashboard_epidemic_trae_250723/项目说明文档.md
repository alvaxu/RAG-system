


          
# 香港疫情数据可视化仪表盘项目说明

## 项目概述
本项目是一个基于Flask框架开发的香港疫情数据可视化仪表盘，能够展示疫情核心指标、地理分布和趋势分析。项目通过读取Excel格式的疫情数据，进行数据处理和分析后，通过ECharts图表库在前端进行可视化展示。

## 文件结构
```
CASE-dashboard_epidemic-250723/
├── V105_app.py           # Flask后端主程序
├── templates/
│   └── index.html        # 前端页面模板
├── static/
│   └── js/
│       └── echarts.min.js # ECharts库
├── hongkong.json         # 香港地理数据
└── 香港各区疫情数据_20250322.xlsx # 疫情数据源
```

## 核心文件说明

### V105_app.py
<mcfile name="V105_app.py" path="d:\cursorprj\3-0408Cursor编程-从入门到精通\CASE-dashboard_epidemic-250723\V105_app.py"></mcfile> 是项目的后端主文件，主要功能包括：

#### 1. 数据读取与处理
- <mcsymbol name="get_epidemic_data" filename="V105_app.py" path="d:\cursorprj\3-0408Cursor编程-从入门到精通\CASE-dashboard_epidemic-250723\V105_app.py" startline="23" type="function"></mcsymbol>：读取Excel格式的疫情数据，处理列名映射，确保标准列名存在
- <mcsymbol name="get_hongkong_geo_data" filename="V105_app.py" path="d:\cursorprj\3-0408Cursor编程-从入门到精通\CASE-dashboard_epidemic-250723\V105_app.py" startline="115" type="function"></mcsymbol>：读取香港地理数据JSON文件，适配ECharts地图组件

#### 2. 核心指标计算
- 从疫情数据中提取最新日期和前一天日期数据
- 计算累计病例、新增病例、治愈率、死亡率等核心指标
- 计算各项指标的环比变化（较昨日变化）

#### 3. 路由与数据传递
- <mcsymbol name="index" filename="V105_app.py" path="d:\cursorprj\3-0408Cursor编程-从入门到精通\CASE-dashboard_epidemic-250723\V105_app.py" startline="189" type="function"></mcsymbol>：处理首页请求，整合所有数据并传递给前端模板
- 为趋势分析准备按日期聚合的新增病例数据

### templates/index.html
<mcfile name="index.html" path="d:\cursorprj\3-0408Cursor编程-从入门到精通\CASE-dashboard_epidemic-250723\templates\index.html"></mcfile> 是前端页面模板，主要功能包括：

#### 1. 页面结构
- 核心疫情指标展示区：显示累计病例、新增病例、治愈率、死亡率及其环比变化
- 地理分布图表区：展示香港各区疫情分布热力图
- 趋势分析图表区：展示新增病例随时间变化的趋势线图

#### 2. 数据可视化
- 使用ECharts初始化地理分布图表（<mcsymbol name="geoChart" filename="index.html" path="d:\cursorprj\3-0408Cursor编程-从入门到精通\CASE-dashboard_epidemic-250723\templates\index.html" startline="158" type="function"></mcsymbol>）
- 使用ECharts初始化趋势分析图表（<mcsymbol name="trendChart" filename="index.html" path="d:\cursorprj\3-0408Cursor编程-从入门到精通\CASE-dashboard_epidemic-250723\templates\index.html" startline="195" type="function"></mcsymbol>）
- 响应式布局设计，适配不同屏幕尺寸

## 数据流程
1. 后端从Excel文件读取原始疫情数据
2. 数据预处理：列名标准化、日期格式处理、缺失值处理
3. 核心指标计算：累计病例、新增病例、治愈率、死亡率及环比变化
4. 数据传递到前端模板
5. 前端使用ECharts渲染地理分布和趋势分析图表

## 使用方法
1. 安装依赖包：
```bash
pip install flask pandas openpyxl
```
2. 运行Flask应用：
```bash
python V105_app.py
```
3. 在浏览器中访问：http://localhost:5000

## 注意事项
- 确保Excel数据文件路径正确，列名符合预期格式
- 地理数据JSON文件需与应用程序位于同一目录
- 如遇数据格式问题，可查看控制台输出的调试信息
- 首次运行可能需要等待数据加载和处理
        