[
  {
    "query": "图4：中芯国际归母净利润情况概览",
    "max_results": 10,
    "methods_tested": [],
    "faiss_info": {
      "vector_store_type": "FAISS",
      "has_index": true,
      "has_docstore": true,
      "has_embedding_function": true,
      "docstore_size": 536,
      "index_type": "IndexFlatL2",
      "index_ntotal": 536,
      "index_d": 1536,
      "index_metric_type": 1,
      "index_is_trained": true
    },
    "search_results": {
      "similarity_search": {
        "success": true,
        "count": 0,
        "first_doc_analysis": null
      },
      "similarity_search_with_score": {
        "success": true,
        "count": 0,
        "first_result_analysis": {
          "type": null,
          "length": null,
          "has_score": false
        }
      },
      "direct_faiss_search": {
        "success": false,
        "error": "'list' object has no attribute 'shape'"
      },
      "docstore_check": {
        "success": true,
        "total_docs": 536,
        "sample_docs_analysis": [
          {
            "has_score": false,
            "metadata_keys": [
              "document_name",
              "page_number",
              "chunk_index",
              "chunk_type",
              "table_id",
              "table_type",
              "table_title",
              "table_summary",
              "table_headers",
              "related_text",
              "processed_table_content",
              "table_row_count",
              "table_column_count",
              "page_content"
            ]
          },
          {
            "has_score": false,
            "metadata_keys": [
              "document_name",
              "page_number",
              "chunk_index",
              "chunk_type",
              "table_id",
              "table_type",
              "table_title",
              "table_summary",
              "table_headers",
              "related_text",
              "processed_table_content",
              "table_row_count",
              "table_column_count",
              "page_content"
            ]
          },
          {
            "has_score": false,
            "metadata_keys": [
              "document_name",
              "page_number",
              "chunk_index",
              "chunk_type",
              "table_id",
              "table_type",
              "table_title",
              "table_summary",
              "table_headers",
              "related_text",
              "processed_table_content",
              "table_row_count",
              "table_column_count",
              "page_content"
            ]
          }
        ]
      }
    },
    "recommendations": [
      "✅ 建议使用similarity_search_with_score方法，它会返回分数"
    ],
    "available_methods": [
      "_asimilarity_search_with_relevance_scores",
      "_similarity_search_with_relevance_scores",
      "amax_marginal_relevance_search",
      "amax_marginal_relevance_search_by_vector",
      "amax_marginal_relevance_search_with_score_by_vector",
      "asearch",
      "asimilarity_search",
      "asimilarity_search_by_vector",
      "asimilarity_search_with_relevance_scores",
      "asimilarity_search_with_score",
      "asimilarity_search_with_score_by_vector",
      "max_marginal_relevance_search",
      "max_marginal_relevance_search_by_vector",
      "max_marginal_relevance_search_with_score_by_vector",
      "search",
      "similarity_search",
      "similarity_search_by_vector",
      "similarity_search_with_relevance_scores",
      "similarity_search_with_score",
      "similarity_search_with_score_by_vector"
    ]
  },
  {
    "query": "中芯国际净利润",
    "max_results": 10,
    "methods_tested": [],
    "faiss_info": {
      "vector_store_type": "FAISS",
      "has_index": true,
      "has_docstore": true,
      "has_embedding_function": true,
      "docstore_size": 536,
      "index_type": "IndexFlatL2",
      "index_ntotal": 536,
      "index_d": 1536,
      "index_metric_type": 1,
      "index_is_trained": true
    },
    "search_results": {
      "similarity_search": {
        "success": true,
        "count": 0,
        "first_doc_analysis": null
      },
      "similarity_search_with_score": {
        "success": true,
        "count": 0,
        "first_result_analysis": {
          "type": null,
          "length": null,
          "has_score": false
        }
      },
      "direct_faiss_search": {
        "success": false,
        "error": "'list' object has no attribute 'shape'"
      },
      "docstore_check": {
        "success": true,
        "total_docs": 536,
        "sample_docs_analysis": [
          {
            "has_score": false,
            "metadata_keys": [
              "document_name",
              "page_number",
              "chunk_index",
              "chunk_type",
              "table_id",
              "table_type",
              "table_title",
              "table_summary",
              "table_headers",
              "related_text",
              "processed_table_content",
              "table_row_count",
              "table_column_count",
              "page_content"
            ]
          },
          {
            "has_score": false,
            "metadata_keys": [
              "document_name",
              "page_number",
              "chunk_index",
              "chunk_type",
              "table_id",
              "table_type",
              "table_title",
              "table_summary",
              "table_headers",
              "related_text",
              "processed_table_content",
              "table_row_count",
              "table_column_count",
              "page_content"
            ]
          },
          {
            "has_score": false,
            "metadata_keys": [
              "document_name",
              "page_number",
              "chunk_index",
              "chunk_type",
              "table_id",
              "table_type",
              "table_title",
              "table_summary",
              "table_headers",
              "related_text",
              "processed_table_content",
              "table_row_count",
              "table_column_count",
              "page_content"
            ]
          }
        ]
      }
    },
    "recommendations": [
      "✅ 建议使用similarity_search_with_score方法，它会返回分数"
    ],
    "available_methods": [
      "_asimilarity_search_with_relevance_scores",
      "_similarity_search_with_relevance_scores",
      "amax_marginal_relevance_search",
      "amax_marginal_relevance_search_by_vector",
      "amax_marginal_relevance_search_with_score_by_vector",
      "asearch",
      "asimilarity_search",
      "asimilarity_search_by_vector",
      "asimilarity_search_with_relevance_scores",
      "asimilarity_search_with_score",
      "asimilarity_search_with_score_by_vector",
      "max_marginal_relevance_search",
      "max_marginal_relevance_search_by_vector",
      "max_marginal_relevance_search_with_score_by_vector",
      "search",
      "similarity_search",
      "similarity_search_by_vector",
      "similarity_search_with_relevance_scores",
      "similarity_search_with_score",
      "similarity_search_with_score_by_vector"
    ]
  }
]