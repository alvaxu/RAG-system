好的！明天我们测试其他单引擎。让我总结一下今天的工作进度和明天的测试计划：

## �� **今天完成的工作总结**

### ✅ **已修复的问题**
1. **混合引擎查询路由问题** - 单引擎查询现在直接调用对应引擎
2. **Pipeline结果格式问题** - 确保文档metadata信息不丢失
3. **源过滤引擎问题** - 正确保留和传递文档信息
4. **LLM引擎和源过滤引擎传递问题** - 避免使用Mock引擎

### 🔧 **修复的核心文件**
- `v2/core/hybrid_engine.py` - 混合引擎查询路由逻辑
- `v2/core/source_filter_engine.py` - 源过滤引擎metadata保留
- `v2/core/unified_pipeline.py` - Pipeline结果格式修复

### 📝 **代码已提交**
- 提交ID: `e0290b9`
- 分支: `feature/qa-v2-enhance`
- 所有修复已保存到git仓库

## 🎯 **明天的测试计划**

### **1. 测试Image Engine（图片引擎）**
- **测试目标**: 验证图片查询的单引擎流程
- **预期结果**: 
  - 图片查询直接调用ImageEngine
  - 来源信息正确显示（图片文档名称、页码等）
  - 不使用混合引擎模式

### **2. 测试Table Engine（表格引擎）**
- **测试目标**: 验证表格查询的单引擎流程
- **预期结果**:
  - 表格查询直接调用TableEngine
  - 来源信息正确显示（表格文档名称、页码等）
  - 五层召回策略正常工作

### **3. 测试Hybrid Engine（混合引擎）**
- **测试目标**: 验证真正的混合查询流程
- **预期结果**:
  - 混合查询使用三引擎并行recall
  - 融合recall结果
  - 混合reranking服务正常工作
  - 最终Pipeline处理

### **4. 验证修复效果**
- **来源信息显示**: 确认不再显示"未知文档 - 第未知页"
- **查询路由**: 确认单引擎查询不走混合引擎模式
- **LLM答案**: 确认使用真实的DashScope LLM引擎
- **源过滤**: 确认使用真实的源过滤引擎

## 🚀 **测试准备建议**

1. **重启V2系统**，确保修复后的代码生效
2. **准备测试查询**:
   - 文本查询：测试TextEngine
   - 图片查询：测试ImageEngine  
   - 表格查询：测试TableEngine
   - 混合查询：测试HybridEngine
3. **观察日志输出**，确认查询路由正确
4. **检查前端显示**，验证来源信息正确

## �� **预期改进效果**

修复后，系统应该能够：
- ✅ 正确区分单引擎查询和混合查询
- ✅ 单引擎查询直接调用对应引擎的完整流程
- ✅ 混合查询使用三引擎并行处理
- ✅ 所有查询都能正确显示来源信息
- ✅ 使用真实的LLM引擎和源过滤引擎

明天我们就来全面测试这些修复效果！今天的工作已经为明天的测试打下了坚实的基础。