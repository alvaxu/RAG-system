## 📚 **RAG系统完整术语定义**

### 🔍 **召回 (Retrieval)**
- **定义**：从知识库中找到与用户问题相关的文档片段(chunk)
- **作用**：初步筛选出可能相关的候选内容
- **实现方式**：通过向量相似度搜索、关键词匹配等方式
- **输出**：相关chunk的候选列表

### 🎯 **初排 (Initial Ranking)**
- **定义**：对召回结果进行初步排序和筛选
- **作用**：基于相关性分数对候选chunk进行初步排序
- **实现方式**：计算相似度分数、关键词匹配度等
- **输出**：初步排序后的chunk列表

### 🔄 **重排序 (Reranking)**
- **定义**：使用更精确的模型对初排结果进行重新排序
- **作用**：提升结果的相关性和准确性
- **实现方式**：使用专门的reranking模型（如bge-reranker-v2）
- **输出**：重新排序后的高质量chunk列表

### 🧠 **智能过滤 (Smart Filtering) - 暂停使用**
- **定义**：基于内容质量、语义相关性等智能指标对chunk进行过滤
- **作用**：去除低质量、不相关的内容，提升结果纯度
- **实现方式**：多维度评估（关键词权重、语义权重、内容质量权重）
- **输出**：经过智能过滤的高质量chunk列表
- **状态**：当前已关闭（`enable_smart_filtering: false`）

### 🤖 **LLM生成 (LLM Generation)**
- **定义**：基于筛选后的chunk内容生成最终答案
- **作用**：将检索到的信息转化为用户可理解的答案
- **实现方式**：使用大语言模型（如qwen-turbo）
- **输出**：结构化的答案文本

### 🎨 **智能后处理 (Intelligent Post-Processing) - 暂停使用**
- **定义**：对LLM生成的答案进行智能优化和内容再筛选
- **作用**：优化答案质量、调整内容比例、增强可读性
- **实现方式**：基于答案内容智能调整图片、文本、表格的展示比例
- **输出**：优化后的最终结果和内容分布
- **状态**：当前已关闭（`enable_intelligent_post_processing: false`）

### 🧹 **源过滤 (Source Filtering)**
- **定义**：筛选出最终答案的可靠来源
- **作用**：确保答案的可追溯性和可信度
- **实现方式**：基于内容相关性和质量评估
- **输出**：最终用于支撑答案的chunk列表

## �� **完整流程架构**

```
用户查询 
    ↓
查询意图分析 → 引擎选择（文本/图像/表格/混合/智能）
    ↓
召回(找到相关chunk) → 初排(初步排序)
    ↓
重排序(精确排序)
    ↓
智能过滤(暂停使用) ← 基于内容质量过滤
    ↓
LLM生成(生成答案)
    ↓
智能后处理(暂停使用) ← 答案优化和内容调整
    ↓
源过滤(确定最终来源)
    ↓
最终结果输出
```

## �� **当前启用状态**

- ✅ **启用**：召回、初排、重排序、LLM生成、源过滤
- ❌ **暂停使用**：智能过滤、智能后处理