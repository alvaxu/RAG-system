[33mcommit 0377839dd8c550869e6ff9eeed4b6ccdd1ec2da6[m
Author: alvaxu <alva_xu@sina.com>
Date:   Wed Aug 13 23:42:09 2025 +0800

    修复图片查询结果为0的问题
    
    主要修复内容：
    1. 关闭智能过滤引擎和智能后处理引擎，避免过度过滤
    2. 优化源过滤引擎，确保图片查询能保留足够结果
    3. 调整配置参数，降低过滤阈值
    4. 修复图片引擎的相似度计算逻辑
    5. 优化查询流程：重排序 -> LLM生成 -> 源过滤
    
    技术改进：
    - 图片查询使用宽松的过滤策略
    - 动态阈值调整
    - 智能补充逻辑确保最小结果数量
    - 详细的调试日志
    
    测试结果：
    - 图片查询 请显示图4 能正确返回4张图片
    - 混合查询正常工作
    - 系统性能稳定，查询耗时约4秒

 RAG-250727-param/V800_v2_main.py                   |  11 [32m+[m[31m-[m
 ...c2e66d134a75b353b0e4de19d35eaf97376746b2453.jpg | Bin [31m0[m -> [32m19678[m bytes
 .../tools/check_enhanced_description.py            | 170 [32m++++++++++[m
 RAG-250727-param/tools/debug_image_query_issue.py  | 250 [32m+++++++++++++++[m
 RAG-250727-param/tools/debug_image_results.py      | 113 [32m+++++++[m
 RAG-250727-param/tools/debug_reranking_engine.py   | 210 [32m+++++++++++++[m
 .../tools/test_comprehensive_queries.py            | 337 [32m++++++++++++++++++++[m
 RAG-250727-param/tools/test_image_display_fix.py   | 205 [32m++++++++++++[m
 .../tools/test_image_display_simple.py             | 111 [32m+++++++[m
 .../tools/test_image_enhancement_effect.py         | 226 [32m+++++++++++++[m
 RAG-250727-param/tools/test_image_service.py       | 128 [32m++++++++[m
 .../tools/test_intelligent_post_processing.py      | 331 [32m+++++++++++++++++++[m
 RAG-250727-param/tools/test_new_layout.py          | 138 [32m++++++++[m
 RAG-250727-param/tools/test_queries.py             | 126 [32m++++++++[m
 RAG-250727-param/tools/test_simple_image.py        |  77 [32m+++++[m
 RAG-250727-param/tools/test_smart_image_search.py  | 156 [32m+++++++++[m
 RAG-250727-param/tools/test_system_integration.py  | 119 [32m+++++++[m
 RAG-250727-param/v2/api/v2_routes.py               |   1 [32m+[m
 RAG-250727-param/v2/config/v2_config copy.json     | 158 [32m++++++++++[m
 RAG-250727-param/v2/config/v2_config.json          |  52 [32m+[m[31m--[m
 RAG-250727-param/v2/config/v2_config.py            |  24 [32m+[m[31m-[m
 RAG-250727-param/v2/core/hybrid_engine.py          | 128 [32m+++++++[m[31m-[m
 RAG-250727-param/v2/core/image_engine.py           |  49 [32m++[m[31m-[m
 .../v2/core/intelligent_post_processing_engine.py  | 349 [32m+++++++++++++++++++++[m
 RAG-250727-param/v2/core/smart_filter_engine.py    |  40 [32m++[m[31m-[m
 RAG-250727-param/v2/core/source_filter_engine.py   | 118 [32m++++++[m[31m-[m
 ...274\225\346\223\216\345\256\236\347\216\260.md" | 219 [32m+++++++++++++[m
 27 files changed, 3802 insertions(+), 44 deletions(-)
