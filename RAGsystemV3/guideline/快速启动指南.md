# RAG系统V3快速启动指南

## 🚀 一键启动（推荐）

### 使用批处理脚本
```bash
# 双击运行或在命令行执行
start_rag.bat
```

### 使用Python启动脚本
```bash
python start_rag_system.py
```

## 🔧 手动启动

### 1. 启动后端API服务

#### 方法1：从项目根目录启动（推荐）
```bash
# 在项目根目录执行
python -m uvicorn rag_system.api.main:app --host 0.0.0.0 --port 8000 --reload
```

#### 方法2：从rag_system目录启动
```bash
# 进入RAG系统目录
cd rag_system

# 启动FastAPI服务
python -m uvicorn api.main:app --host 0.0.0.0 --port 8000 --reload
```

### 2. 启动前端界面（新终端窗口）
```bash
# 进入前端目录
cd frontend

# 启动开发服务器
npm run dev
```

## 📍 访问地址

- **后端API**：http://localhost:8000
- **前端界面**：http://localhost:3000
- **API文档**：http://localhost:8000/docs

## 🧪 测试系统

### 测试API
```bash
python test_rag_api.py
```

### 运行完整测试
```bash
cd rag_system/tests
python run_all_tests.py
```

## ⚠️ 常见问题

### 问题1：ModuleNotFoundError: No module named 'api'
**原因**：在项目根目录运行后端启动命令
**解决**：先执行 `cd rag_system` 再启动

### 问题2：Could not read package.json
**原因**：在项目根目录运行前端启动命令
**解决**：先执行 `cd frontend` 再启动

### 问题3：端口被占用
**解决**：
```bash
# 检查端口占用
netstat -ano | findstr :8000
netstat -ano | findstr :3000

# 杀死占用进程（替换PID）
taskkill /PID <进程ID> /F
```

## 🎯 快速验证

启动成功后，访问以下地址验证：
1. http://localhost:8000/api/v3/rag/health - 后端健康检查
2. http://localhost:8000/docs - API文档
3. http://localhost:3000 - 前端界面

## ⚡ 性能优化说明

系统已针对API文档加载进行了性能优化：
- **服务状态缓存**：30秒缓存，减少重复检查
- **轻量级健康检查**：快速响应，支持文档页面预加载
- **优化响应时间**：所有端点响应时间 < 0.3秒

---

**提示**：如果遇到问题，请查看 `RAG系统V3使用手册.md` 获取详细说明。
