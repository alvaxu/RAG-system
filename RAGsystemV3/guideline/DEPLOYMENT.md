# RAGç³»ç»ŸV3éƒ¨ç½²æŒ‡å—

## ğŸ“‹ ç³»ç»Ÿæ¦‚è¿°

RAGç³»ç»ŸV3æ˜¯ä¸€ä¸ªåŸºäºæ£€ç´¢å¢å¼ºç”Ÿæˆï¼ˆRetrieval-Augmented Generationï¼‰çš„æ™ºèƒ½é—®ç­”ç³»ç»Ÿï¼Œæ”¯æŒæ–‡æœ¬ã€å›¾åƒå’Œè¡¨æ ¼çš„å¤šæ¨¡æ€æ£€ç´¢ï¼Œå…·å¤‡å®Œæ•´çš„é…ç½®ç®¡ç†ã€æ€§èƒ½ä¼˜åŒ–å’Œå‰ç«¯ç•Œé¢ã€‚

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

### æ ¸å¿ƒç»„ä»¶
- **å¬å›å¼•æ“**ï¼šæ”¯æŒæ–‡æœ¬ã€å›¾åƒã€è¡¨æ ¼çš„æ™ºèƒ½æ£€ç´¢
- **LLMè°ƒç”¨å™¨**ï¼šé›†æˆå¤§è¯­è¨€æ¨¡å‹ï¼Œæ”¯æŒå¤šç§æç¤ºè¯æ¨¡æ¿
- **é‡æ’åºæœåŠ¡**ï¼šå¤šæ¨¡å‹é‡æ’åºï¼Œæå‡ç»“æœè´¨é‡
- **é…ç½®ç®¡ç†**ï¼šé«˜çº§é…ç½®ç®¡ç†ï¼Œæ”¯æŒå¯¼å…¥å¯¼å‡ºã€ç‰ˆæœ¬æ§åˆ¶ã€çƒ­æ›´æ–°
- **å‰ç«¯ç•Œé¢**ï¼šåŸºäºVue.js 3çš„ç°ä»£åŒ–ç”¨æˆ·ç•Œé¢ï¼Œæ”¯æŒå¤šæ¨¡æ€äº¤äº’

### å‰ç«¯åŠŸèƒ½ç‰¹æ€§
- **å¤šæ¨¡æ€æŸ¥è¯¢**ï¼šæ”¯æŒæ–‡æœ¬ã€å›¾ç‰‡ã€è¡¨æ ¼ã€æ™ºèƒ½ã€æ··åˆæŸ¥è¯¢æ¨¡å¼
- **æ™ºèƒ½é—®ç­”**ï¼šé›†æˆé¢„è®¾é—®é¢˜ï¼Œæ”¯æŒå®æ—¶èŠå¤©äº¤äº’
- **ç»“æœå±•ç¤º**ï¼šæ™ºèƒ½é—®ç­”ç»“æœç»„ä»¶ï¼Œæ”¯æŒå¤šç§å±•ç¤ºæ¨¡å¼
- **æ¥æºè¿½è¸ª**ï¼šæ˜¾ç¤ºæœç´¢ç»“æœæ¥æºå’Œç½®ä¿¡åº¦
- **å“åº”å¼è®¾è®¡**ï¼šé€‚é…æ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡
- **ç°ä»£åŒ–UI**ï¼šåŸºäºElement Plusçš„ä¼˜é›…ç•Œé¢è®¾è®¡

### æŠ€æœ¯æ ˆ
- **åç«¯**ï¼šPython 3.8+, FastAPI, FAISS, Jieba
- **å‰ç«¯**ï¼šVue.js 3, Vite, Element Plus, SCSS, Marked.js
- **æ•°æ®åº“**ï¼šå‘é‡æ•°æ®åº“ï¼ˆFAISSï¼‰
- **AIæ¨¡å‹**ï¼šé€šä¹‰åƒé—®ï¼ˆDashScopeï¼‰
- **UIç»„ä»¶**ï¼šElement Plus Icons, å“åº”å¼å¸ƒå±€

## ğŸ“¦ ç¯å¢ƒè¦æ±‚

### ç³»ç»Ÿè¦æ±‚
- **æ“ä½œç³»ç»Ÿ**ï¼šWindows 10/11, Linux, macOS
- **Pythonç‰ˆæœ¬**ï¼š3.8 æˆ–æ›´é«˜ç‰ˆæœ¬
- **Node.jsç‰ˆæœ¬**ï¼š16.0 æˆ–æ›´é«˜ç‰ˆæœ¬
- **å†…å­˜**ï¼šè‡³å°‘ 4GB RAM
- **å­˜å‚¨**ï¼šè‡³å°‘ 2GB å¯ç”¨ç©ºé—´

### Pythonä¾èµ–
```bash
# æ ¸å¿ƒä¾èµ–
fastapi>=0.104.0
uvicorn>=0.24.0
faiss-cpu>=1.7.4
jieba>=0.42.1
pydantic>=2.0.0
python-multipart>=0.0.6

# AIæ¨¡å‹ä¾èµ–
dashscope>=1.14.0

# æ•°æ®å¤„ç†ä¾èµ–
numpy>=1.24.0
pandas>=2.0.0
pillow>=10.0.0

# é…ç½®ç®¡ç†ä¾èµ–
pyyaml>=6.0
```

### å‰ç«¯ä¾èµ–
```json
{
  "dependencies": {
    "vue": "^3.3.8",
    "vue-router": "^4.2.5",
    "element-plus": "^2.4.2",
    "@element-plus/icons-vue": "^2.1.0",
    "axios": "^1.5.0",
    "marked": "^16.2.1"
  },
  "devDependencies": {
    "vite": "^4.5.0",
    "@vitejs/plugin-vue": "^4.4.0",
    "@vue/eslint-config-prettier": "^8.0.0",
    "eslint": "^8.52.0",
    "eslint-plugin-vue": "^9.17.0",
    "prettier": "^3.0.3",
    "sass": "^1.66.0"
  }
}
```

## ğŸš€ å®‰è£…éƒ¨ç½²

### 0. å¿«é€Ÿå¯åŠ¨ï¼ˆæ¨èï¼‰

#### ä½¿ç”¨å¯åŠ¨è„šæœ¬
```bash
# æ–¹æ³•1ï¼šPythonè„šæœ¬ï¼ˆè·¨å¹³å°ï¼‰
python start_rag_system.py

# æ–¹æ³•2ï¼šWindowsæ‰¹å¤„ç†è„šæœ¬ï¼ˆWindowsä¸“ç”¨ï¼‰
start_rag.bat
```

**Pythonè„šæœ¬åŠŸèƒ½ï¼ˆæ¨èï¼‰ï¼š**
- è‡ªåŠ¨æ£€æŸ¥ç¯å¢ƒä¾èµ–
- å¯åŠ¨åç«¯APIæœåŠ¡
- å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨ï¼ˆå¼€å‘æ¨¡å¼ï¼Œæ— éœ€éƒ¨ç½²ï¼‰
- è¿è¡Œç³»ç»Ÿæµ‹è¯•
- è·¨å¹³å°æ”¯æŒï¼ˆWindows/Linux/macOSï¼‰

**Windowsæ‰¹å¤„ç†è„šæœ¬åŠŸèƒ½ï¼š**
- äº¤äº’å¼èœå•é€‰æ‹©
- ç¯å¢ƒä¾èµ–æ£€æŸ¥
- è‡ªåŠ¨å®‰è£…å‰ç«¯ä¾èµ–
- åˆ†ç¦»æ§åˆ¶å°çª—å£
- Windowsä¸“ç”¨ä¼˜åŒ–

**å¼€å‘ç¯å¢ƒä¼˜åŠ¿ï¼š**
- ğŸš€ **ä¸€é”®å¯åŠ¨**ï¼šæ— éœ€å¤æ‚çš„éƒ¨ç½²æ­¥éª¤
- ğŸ”„ **çƒ­é‡è½½**ï¼šä»£ç ä¿®æ”¹åè‡ªåŠ¨åˆ·æ–°
- ğŸ› **è°ƒè¯•å‹å¥½**ï¼šè¯¦ç»†çš„é”™è¯¯ä¿¡æ¯å’Œè°ƒè¯•å·¥å…·
- ğŸ“± **å³æ—¶é¢„è§ˆ**ï¼šhttp://localhost:3000 ç«‹å³è®¿é—®

#### ç¯å¢ƒå‡†å¤‡
**å¿…éœ€è½¯ä»¶ï¼š**
- Python 3.8+ ï¼ˆå·²å®‰è£…å¹¶é…ç½®åˆ°PATHï¼‰
- Node.js 16+ ï¼ˆå·²å®‰è£…å¹¶é…ç½®åˆ°PATHï¼‰
- Git ï¼ˆç”¨äºå…‹éš†ä»£ç ï¼‰

**éªŒè¯å®‰è£…ï¼š**
```bash
python --version  # åº”æ˜¾ç¤º Python 3.8+
node --version    # åº”æ˜¾ç¤º Node.js 16+
npm --version     # åº”æ˜¾ç¤º npm ç‰ˆæœ¬
git --version     # åº”æ˜¾ç¤º Git ç‰ˆæœ¬
```

### 1. å…‹éš†é¡¹ç›®
```bash
git clone <repository-url>
cd RAGsystemV3

# 1. å…‹éš†ä»“åº“

git clone https://github.com/alvaxu/RAG-system.git .
git clone git@github.com:alvaxu/RAG-system.git .
git clone https://github.com/alvaxu/RAG-system.git RAGsystemV3
git clone git@github.com:alvaxu/RAG-system.git RAGsystemV3


# 2. åˆ é™¤ .git ç›®å½•ï¼Œè„±ç¦» Git ç®¡ç†ï¼ˆå¯é€‰ï¼‰
rm -rf .git
æˆ–
Remove-Item -Recurse -Force .git
```

### 2. åç«¯éƒ¨ç½²

#### 2.1 åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
```bash
# Windows
python -m venv venv
venv\Scripts\activate

# Linux/macOS
python3 -m venv venv
source venv/bin/activate
```

#### 2.2 å®‰è£…Pythonä¾èµ–
```bash
pip install -r requirements.txt
```

#### 2.3 é…ç½®ç¯å¢ƒå˜é‡
åˆ›å»º `.env` æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰ï¼š
```bash
# AIæ¨¡å‹é…ç½®ï¼ˆå¿…éœ€ï¼‰
DASHSCOPE_API_KEY=your_dashscope_api_key_here

# æœåŠ¡é…ç½®ï¼ˆå¯é€‰ï¼Œæœ‰é»˜è®¤å€¼ï¼‰
HOST=0.0.0.0
PORT=8000
DEBUG=False
```

**æ³¨æ„ï¼š**
- æ•°æ®åº“è·¯å¾„å’Œé…ç½®è·¯å¾„ç”±ç³»ç»Ÿè‡ªåŠ¨ç®¡ç†ï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®
- é…ç½®æ–‡ä»¶ä½äº `db_system/config/` ç›®å½•

#### 2.4 æ•°æ®åº“åˆå§‹åŒ–
**æ— éœ€æ‰‹åŠ¨åˆå§‹åŒ–**ï¼Œæ•°æ®åº“ä¼šåœ¨é¦–æ¬¡å¯åŠ¨æ—¶è‡ªåŠ¨åˆå§‹åŒ–ã€‚

#### 2.5 å¯åŠ¨åç«¯æœåŠ¡
```bash
# æ–¹æ³•1ï¼šä½¿ç”¨å¯åŠ¨è„šæœ¬ï¼ˆæ¨èï¼‰
python start_rag_system.py

# æ–¹æ³•2ï¼šä½¿ç”¨Windowsæ‰¹å¤„ç†è„šæœ¬ï¼ˆWindowsä¸“ç”¨ï¼‰
start_rag.bat

# æ–¹æ³•3ï¼šç›´æ¥å¯åŠ¨FastAPI
python -m uvicorn rag_system.api.main:app --host 0.0.0.0 --port 8000 --reload

# æ–¹æ³•4ï¼šä»rag_systemç›®å½•å¯åŠ¨
cd rag_system
python -m uvicorn api.main:app --host 0.0.0.0 --port 8000 --reload
```

### 3. å‰ç«¯éƒ¨ç½²

#### 3.1 å®‰è£…Node.jsä¾èµ–
```bash
cd frontend
npm install
```

**æ³¨æ„ï¼š** å¦‚æœé‡åˆ° SCSS ç›¸å…³é”™è¯¯ï¼Œéœ€è¦é¢å¤–å®‰è£… SCSS é¢„å¤„ç†å™¨ï¼š
```bash
# å®‰è£… SCSS é¢„å¤„ç†å™¨ï¼ˆå¿…éœ€ï¼‰
npm install sass --save-dev

# æˆ–è€…ä½¿ç”¨ yarn
yarn add sass --dev
```

**æ³¨æ„ï¼š**
- ç¡®ä¿ Node.js å·²å®‰è£…å¹¶é…ç½®åˆ°ç³»ç»Ÿ PATH
- å¦‚æœ `npm` å‘½ä»¤ä¸å¯ç”¨ï¼Œè¯·æ£€æŸ¥ Node.js å®‰è£…
- åœ¨ Windows ä¸Šï¼Œå¯èƒ½éœ€è¦ä½¿ç”¨ `npm.cmd` è€Œä¸æ˜¯ `npm`

#### 3.2 é…ç½®APIåœ°å€
ç¼–è¾‘ `frontend/src/services/api.js`ï¼š
```javascript
const API_BASE_URL = 'http://localhost:8000/api/v3/rag';
```

#### 3.3 å¼€å‘ç¯å¢ƒå¯åŠ¨ï¼ˆæ¨èï¼‰
**å¼€å‘ç¯å¢ƒæ— éœ€éƒ¨ç½²ï¼Œç›´æ¥å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼š**
```bash
# å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨
npm run dev
```

**å¼€å‘ç¯å¢ƒç‰¹ç‚¹ï¼š**
- âœ… è‡ªåŠ¨çƒ­é‡è½½ï¼Œä»£ç ä¿®æ”¹åè‡ªåŠ¨åˆ·æ–°
- âœ… è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯å’Œè°ƒè¯•ä¿¡æ¯
- âœ… æ— éœ€æ„å»ºï¼Œç›´æ¥è¿è¡Œæºä»£ç 
- âœ… è®¿é—®åœ°å€ï¼šhttp://localhost:3000
- âœ… æ”¯æŒå¤šæ¨¡æ€æŸ¥è¯¢ç•Œé¢
- âœ… å®æ—¶èŠå¤©äº¤äº’åŠŸèƒ½
- âœ… å“åº”å¼è®¾è®¡ï¼Œé€‚é…å„ç§è®¾å¤‡

#### 3.4 ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²ï¼ˆå¯é€‰ï¼‰
**ä»…åœ¨ç”Ÿäº§ç¯å¢ƒéœ€è¦æ„å»ºå’Œéƒ¨ç½²ï¼š**
```bash
# 1. æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# 2. éƒ¨ç½²åˆ°WebæœåŠ¡å™¨ï¼ˆLinuxç¤ºä¾‹ï¼‰
cp -r dist/* /var/www/html/

# 3. é…ç½®WebæœåŠ¡å™¨ï¼ˆå¦‚Nginxï¼‰
# è®©WebæœåŠ¡å™¨æä¾›é™æ€æ–‡ä»¶æœåŠ¡
```

**ç”Ÿäº§ç¯å¢ƒç‰¹ç‚¹ï¼š**
- âœ… ä»£ç ç»è¿‡å‹ç¼©å’Œä¼˜åŒ–ï¼Œæ€§èƒ½æ›´å¥½
- âœ… æ–‡ä»¶ä½“ç§¯æ›´å°ï¼ŒåŠ è½½æ›´å¿«
- âœ… ä¸æš´éœ²æºä»£ç ï¼Œæ›´å®‰å…¨
- âœ… æ”¯æŒå¤šæ¨¡æ€æŸ¥è¯¢å’Œæ™ºèƒ½é—®ç­”åŠŸèƒ½
- âœ… å“åº”å¼è®¾è®¡ï¼Œé€‚é…å„ç§è®¾å¤‡
- âŒ éœ€è¦é‡æ–°æ„å»ºæ‰èƒ½çœ‹åˆ°ä»£ç ä¿®æ”¹

## ğŸ–¥ï¸ Windowsæ‰¹å¤„ç†è„šæœ¬ä½¿ç”¨æŒ‡å—

### start_rag.bat è¯¦ç»†è¯´æ˜

`start_rag.bat` æ˜¯ä¸“ä¸º Windows ç”¨æˆ·è®¾è®¡çš„äº¤äº’å¼å¯åŠ¨è„šæœ¬ï¼Œæä¾›å‹å¥½çš„èœå•ç•Œé¢ã€‚

#### å¯åŠ¨æ–¹å¼
```bash
# åŒå‡»è¿è¡Œæˆ–åœ¨å‘½ä»¤è¡Œä¸­æ‰§è¡Œ
start_rag.bat
```

#### èœå•é€‰é¡¹è¯´æ˜

**1. å¯åŠ¨åç«¯APIæœåŠ¡**
- ä»…å¯åŠ¨åç«¯æœåŠ¡
- æœåŠ¡åœ°å€ï¼šhttp://localhost:8000
- APIæ–‡æ¡£ï¼šhttp://localhost:8000/docs

**2. å¯åŠ¨å‰ç«¯ç•Œé¢**
- ä»…å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨
- è‡ªåŠ¨æ£€æŸ¥å¹¶å®‰è£…ä¾èµ–
- è®¿é—®åœ°å€ï¼šhttp://localhost:3000
- æ”¯æŒå¤šæ¨¡æ€æŸ¥è¯¢å’Œæ™ºèƒ½é—®ç­”åŠŸèƒ½

**3. å¯åŠ¨å®Œæ•´ç³»ç»Ÿï¼ˆæ¨èï¼‰**
- åŒæ—¶å¯åŠ¨åç«¯å’Œå‰ç«¯
- åœ¨ç‹¬ç«‹çª—å£ä¸­è¿è¡Œ
- è‡ªåŠ¨æ£€æŸ¥ç¯å¢ƒä¾èµ–
- è‡ªåŠ¨å®‰è£…å‰ç«¯ä¾èµ–
- æ”¯æŒå¤šæ¨¡æ€æŸ¥è¯¢å’Œæ™ºèƒ½é—®ç­”åŠŸèƒ½

**4. è¿è¡ŒAPIæ¥å£æµ‹è¯•**
- æ‰§è¡Œ `test_rag_api.py` æµ‹è¯•è„šæœ¬
- éªŒè¯APIæ¥å£åŠŸèƒ½

**5. è¿è¡Œåç«¯åŠŸèƒ½æµ‹è¯•**
- æ‰§è¡Œ `run_backend_tests.py` æµ‹è¯•å¥—ä»¶
- éªŒè¯åç«¯æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

**6. é€€å‡º**
- é€€å‡ºå¯åŠ¨è„šæœ¬

#### è„šæœ¬ç‰¹æ€§

**ç¯å¢ƒæ£€æŸ¥ï¼š**
- âœ… è‡ªåŠ¨æ£€æŸ¥ Python å®‰è£…å’Œç‰ˆæœ¬
- âœ… è‡ªåŠ¨æ£€æŸ¥ Node.js å®‰è£…å’Œç‰ˆæœ¬
- âœ… è‡ªåŠ¨æ£€æŸ¥ npm å¯ç”¨æ€§
- âŒ ç¯å¢ƒæ£€æŸ¥å¤±è´¥æ—¶æä¾›è¯¦ç»†æŒ‡å¯¼

**ä¾èµ–ç®¡ç†ï¼š**
- âœ… è‡ªåŠ¨æ£€æµ‹å‰ç«¯ä¾èµ–ç¼ºå¤±
- âœ… è‡ªåŠ¨æ‰§è¡Œ `npm install`
- âœ… è‡ªåŠ¨å®‰è£… SCSS é¢„å¤„ç†å™¨ï¼ˆsassï¼‰
- âœ… ä¾èµ–å®‰è£…å¤±è´¥æ—¶æä¾›é”™è¯¯ä¿¡æ¯

**ç”¨æˆ·ä½“éªŒï¼š**
- âœ… æ¸…æ™°çš„èœå•ç•Œé¢
- âœ… è¯¦ç»†çš„è¿›åº¦æç¤º
- âœ… å‹å¥½çš„é”™è¯¯ä¿¡æ¯
- âœ… åˆ†ç¦»çš„æ§åˆ¶å°çª—å£

#### ä½¿ç”¨ç¤ºä¾‹

```bash
# å¯åŠ¨å®Œæ•´ç³»ç»Ÿ
start_rag.bat
# é€‰æ‹© 3

# ä»…å¯åŠ¨å‰ç«¯
start_rag.bat
# é€‰æ‹© 2

# è¿è¡Œåç«¯åŠŸèƒ½æµ‹è¯•
start_rag.bat
# é€‰æ‹© 5

# è¿è¡ŒAPIæ¥å£æµ‹è¯•
start_rag.bat
# é€‰æ‹© 4
```

#### æ•…éšœæ’é™¤

**å¸¸è§é—®é¢˜ï¼š**

1. **"Pythonæœªå®‰è£…æˆ–æœªé…ç½®åˆ°PATH"**
   - è§£å†³ï¼šå®‰è£… Python 3.8+ å¹¶æ·»åŠ åˆ°ç³»ç»Ÿ PATH

2. **"Node.jsæœªå®‰è£…æˆ–æœªé…ç½®åˆ°PATH"**
   - è§£å†³ï¼šå®‰è£… Node.js 16+ å¹¶æ·»åŠ åˆ°ç³»ç»Ÿ PATH

3. **"å‰ç«¯ä¾èµ–å®‰è£…å¤±è´¥"**
   - è§£å†³ï¼šæ£€æŸ¥ç½‘ç»œè¿æ¥ï¼Œç¡®ä¿ npm å¯æ­£å¸¸è®¿é—®

4. **"SCSS é¢„å¤„ç†å™¨é”™è¯¯"**
   - è§£å†³ï¼šæ‰‹åŠ¨å®‰è£… sass ä¾èµ–ï¼š`npm install sass --save-dev`

5. **"å‰ç«¯ç›®å½•ä¸å­˜åœ¨package.jsonæ–‡ä»¶"**
   - è§£å†³ï¼šç¡®ä¿åœ¨æ­£ç¡®çš„é¡¹ç›®æ ¹ç›®å½•ä¸­è¿è¡Œè„šæœ¬

## âš™ï¸ é…ç½®è¯´æ˜

### ç³»ç»Ÿé…ç½®
ç³»ç»Ÿé…ç½®æ–‡ä»¶ä½äº `config/` ç›®å½•ï¼š

- `v3_config.json`ï¼šä¸»é…ç½®æ–‡ä»¶
- `v3_config_schema.json`ï¼šé…ç½®æ¨¡å¼å®šä¹‰
- `backups/`ï¼šé…ç½®å¤‡ä»½ç›®å½•

### ä¸»è¦é…ç½®é¡¹
```json
{
  "rag_system": {
    "query_processing": {
      "max_results": 10,
      "similarity_threshold": 0.3
    },
    "retrieval": {
      "batch_size": 32,
      "cache_enabled": true,
      "cache_ttl": 3600
    },
    "llm_caller": {
      "model_name": "qwen-turbo",
      "max_tokens": 2000,
      "temperature": 0.7
    },
    "reranking": {
      "enabled": true,
      "models": ["dashscope", "rule_based"],
      "weights": [0.6, 0.4]
    },
    "engines": {
      "text_engine": {
        "enabled": true,
        "max_results": 20,
        "similarity_threshold": 0.4
      },
      "image_engine": {
        "enabled": true,
        "max_results": 20,
        "similarity_threshold": 0.2
      },
      "table_engine": {
        "enabled": true,
        "max_results": 20,
        "similarity_threshold": 0.3
      },
      "hybrid_engine": {
        "enabled": true,
        "max_results": 25,
        "weights": {
          "image": 0.3,
          "text": 0.4,
          "table": 0.3
        }
      }
    }
  }
}
```

## ğŸ”§ ç³»ç»Ÿç®¡ç†

### é…ç½®ç®¡ç†
**é€šè¿‡APIç«¯ç‚¹ç®¡ç†é…ç½®ï¼š**
```bash
# è·å–ç³»ç»Ÿé…ç½®
curl http://localhost:8000/api/v3/rag/config

# è·å–ç³»ç»ŸçŠ¶æ€
curl http://localhost:8000/api/v3/rag/status

# è·å–ç³»ç»Ÿç»Ÿè®¡
curl http://localhost:8000/api/v3/rag/stats
```

**ç›´æ¥æ“ä½œé…ç½®æ–‡ä»¶ï¼š**
```bash
# é…ç½®æ–‡ä»¶ä½ç½®
db_system/config/v3_config.json

# å¤‡ä»½é…ç½®
cp db_system/config/v3_config.json config_backup.json

# æ¢å¤é…ç½®
cp config_backup.json db_system/config/v3_config.json
```

### æ€§èƒ½ç›‘æ§
**é€šè¿‡APIç«¯ç‚¹ç›‘æ§ï¼š**
```bash
# å¥åº·æ£€æŸ¥
curl http://localhost:8000/api/v3/rag/health

# ç³»ç»ŸçŠ¶æ€
curl http://localhost:8000/api/v3/rag/status

# ç³»ç»Ÿç»Ÿè®¡
curl http://localhost:8000/api/v3/rag/stats

# å‘é‡æ•°æ®åº“çŠ¶æ€
curl http://localhost:8000/api/v3/rag/vector-db/status
```

### æ—¥å¿—ç®¡ç†
**æ—¥å¿—æ–‡ä»¶ä½ç½®ï¼š**
```bash
# ä¸»æ—¥å¿—æ–‡ä»¶
rag_system.log

# æŸ¥çœ‹æ—¥å¿—
tail -f rag_system.log

# æ¸…ç†æ—¥å¿—
rm rag_system.log
```

## ğŸ§ª æµ‹è¯•éªŒè¯

### è¿è¡Œæµ‹è¯•å¥—ä»¶
```bash
# æ–¹æ³•1ï¼šä½¿ç”¨å¯åŠ¨è„šæœ¬è¿è¡Œæµ‹è¯•
python start_rag_system.py --test-only

# æ–¹æ³•2ï¼šç›´æ¥è¿è¡Œæµ‹è¯•
cd rag_system/tests
python run_backend_tests.py
```

### åŠŸèƒ½æµ‹è¯•
```bash
# æµ‹è¯•å¬å›å¼•æ“
python test_retrieval_algorithms_simple.py

# æµ‹è¯•LLMè°ƒç”¨å™¨
python test_llm_caller_enhanced.py

# æµ‹è¯•é‡æ’åºæœåŠ¡
python test_reranking_enhanced.py

# æµ‹è¯•è§†è§‰æœç´¢
python test_visual_search.py

# æµ‹è¯•è¡¨æ ¼æœç´¢
python test_table_search.py

# æµ‹è¯•æ··åˆæœç´¢
python test_hybrid_search.py

# æµ‹è¯•æ€§èƒ½ä¼˜åŒ–
python test_performance_optimization.py

# æµ‹è¯•é…ç½®ç®¡ç†
python test_config_advanced.py
```

## ğŸš¨ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. APIå¯†é’¥é—®é¢˜
```
é”™è¯¯ï¼šDashScope APIè°ƒç”¨å¤±è´¥: Invalid API-key provided
è§£å†³ï¼šæ£€æŸ¥DASHSCOPE_API_KEYç¯å¢ƒå˜é‡æ˜¯å¦æ­£ç¡®è®¾ç½®
```

#### 2. æ•°æ®åº“è¿æ¥é—®é¢˜
```
é”™è¯¯ï¼šå‘é‡æ•°æ®åº“åˆå§‹åŒ–å¤±è´¥
è§£å†³ï¼šæ£€æŸ¥ central/vector_db/ ç›®å½•æ˜¯å¦å­˜åœ¨ä¸”æœ‰å†™æƒé™
```

#### 3. å‰ç«¯è¿æ¥é—®é¢˜
```
é”™è¯¯ï¼šå‰ç«¯æ— æ³•è¿æ¥åç«¯API
è§£å†³ï¼šæ£€æŸ¥API_BASE_URLé…ç½®å’Œåç«¯æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œ
```

#### 4. å†…å­˜ä¸è¶³
```
é”™è¯¯ï¼šå†…å­˜ä¸è¶³å¯¼è‡´æœåŠ¡å´©æºƒ
è§£å†³ï¼šå¢åŠ ç³»ç»Ÿå†…å­˜æˆ–è°ƒæ•´batch_sizeé…ç½®
```

### æ—¥å¿—åˆ†æ
```bash
# æŸ¥çœ‹é”™è¯¯æ—¥å¿—
grep "ERROR" rag_system.log

# æŸ¥çœ‹è­¦å‘Šæ—¥å¿—
grep "WARNING" rag_system.log

# æŸ¥çœ‹æ€§èƒ½æ—¥å¿—
grep "performance" rag_system.log
```

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

### ç³»ç»Ÿä¼˜åŒ–å»ºè®®
1. **å†…å­˜ä¼˜åŒ–**ï¼šè°ƒæ•´batch_sizeå’Œcache_sizeå‚æ•°
2. **CPUä¼˜åŒ–**ï¼šå¯ç”¨å¹¶è¡Œå¤„ç†ï¼Œè°ƒæ•´çº¿ç¨‹æ•°
3. **å­˜å‚¨ä¼˜åŒ–**ï¼šå®šæœŸæ¸…ç†ç¼“å­˜å’Œæ—¥å¿—æ–‡ä»¶
4. **ç½‘ç»œä¼˜åŒ–**ï¼šä½¿ç”¨CDNåŠ é€Ÿå‰ç«¯èµ„æº

### APIæ€§èƒ½ä¼˜åŒ–
1. **æœåŠ¡çŠ¶æ€ç¼“å­˜**ï¼š30ç§’ç¼“å­˜æœºåˆ¶ï¼Œå‡å°‘é‡å¤æœåŠ¡çŠ¶æ€æ£€æŸ¥
2. **è½»é‡çº§å¥åº·æ£€æŸ¥**ï¼šå¿«é€Ÿå“åº”ï¼Œæ”¯æŒæ–‡æ¡£é¡µé¢é¢„åŠ è½½
3. **ä¼˜åŒ–å“åº”æ—¶é—´**ï¼šæ‰€æœ‰APIç«¯ç‚¹å“åº”æ—¶é—´ < 0.3ç§’
4. **æ™ºèƒ½é”™è¯¯å¤„ç†**ï¼šé¿å…å•ä¸ªæœåŠ¡å¤±è´¥å½±å“æ•´ä½“æ€§èƒ½

### ç›‘æ§æŒ‡æ ‡
- **å“åº”æ—¶é—´**ï¼šå¹³å‡æŸ¥è¯¢å“åº”æ—¶é—´ < 2ç§’ï¼ŒAPIç«¯ç‚¹å“åº”æ—¶é—´ < 0.3ç§’
- **ååé‡**ï¼šæ”¯æŒå¹¶å‘æŸ¥è¯¢æ•° > 100
- **å‡†ç¡®ç‡**ï¼šæ£€ç´¢å‡†ç¡®ç‡ > 85%
- **å¯ç”¨æ€§**ï¼šç³»ç»Ÿå¯ç”¨æ€§ > 99%
- **æ–‡æ¡£åŠ è½½**ï¼šAPIæ–‡æ¡£é¡µé¢åŠ è½½æ—¶é—´ < 0.5ç§’

## ğŸ”’ å®‰å…¨è€ƒè™‘

### æ•°æ®å®‰å…¨
- å®šæœŸå¤‡ä»½é…ç½®å’Œæ•°æ®åº“
- ä½¿ç”¨HTTPSåŠ å¯†ä¼ è¾“
- é™åˆ¶APIè®¿é—®æƒé™
- å®šæœŸæ›´æ–°ä¾èµ–åŒ…

### è®¿é—®æ§åˆ¶
- é…ç½®é˜²ç«å¢™è§„åˆ™
- ä½¿ç”¨APIå¯†é’¥è®¤è¯
- é™åˆ¶æ–‡ä»¶ä¸Šä¼ ç±»å‹
- ç›‘æ§å¼‚å¸¸è®¿é—®

## ğŸ“ˆ æ‰©å±•éƒ¨ç½²

### æ°´å¹³æ‰©å±•
- ä½¿ç”¨è´Ÿè½½å‡è¡¡å™¨åˆ†å‘è¯·æ±‚
- éƒ¨ç½²å¤šä¸ªåç«¯å®ä¾‹
- ä½¿ç”¨å…±äº«å­˜å‚¨ä¿å­˜æ•°æ®
- é…ç½®æœåŠ¡å‘ç°æœºåˆ¶

### å‚ç›´æ‰©å±•
- å¢åŠ æœåŠ¡å™¨å†…å­˜å’ŒCPU
- ä½¿ç”¨SSDå­˜å‚¨æå‡I/Oæ€§èƒ½
- ä¼˜åŒ–æ•°æ®åº“ç´¢å¼•
- å¯ç”¨GPUåŠ é€Ÿï¼ˆå¦‚é€‚ç”¨ï¼‰

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### è”ç³»æ–¹å¼
- **é¡¹ç›®ä»“åº“**ï¼š[GitHub Repository URL]
- **é—®é¢˜åé¦ˆ**ï¼š[Issues URL]
- **æ–‡æ¡£æ›´æ–°**ï¼š[Wiki URL]

### ç‰ˆæœ¬ä¿¡æ¯
- **å½“å‰ç‰ˆæœ¬**ï¼šV3.0.0
- **å‘å¸ƒæ—¥æœŸ**ï¼š2025-09-01
- **å…¼å®¹æ€§**ï¼šPython 3.8+, Node.js 16+

---

## ğŸ“ æ›´æ–°æ—¥å¿—

### V3.0.0 (2025-09-01)
- âœ… å®Œæˆæ ¸å¿ƒæ¶æ„é‡æ„
- âœ… å®ç°å¤šæ¨¡æ€æ£€ç´¢ï¼ˆæ–‡æœ¬ã€å›¾åƒã€è¡¨æ ¼ï¼‰
- âœ… é›†æˆé«˜çº§é…ç½®ç®¡ç†
- âœ… å¼€å‘ç°ä»£åŒ–å‰ç«¯ç•Œé¢
- âœ… å®Œæˆç³»ç»Ÿé›†æˆæµ‹è¯•
- âœ… å®Œå–„éƒ¨ç½²æ–‡æ¡£
- âœ… æ–°å¢æ™ºèƒ½é—®ç­”ç»„ä»¶
- âœ… æ”¯æŒå¤šæ¨¡æ€æŸ¥è¯¢ç•Œé¢
- âœ… å®ç°å“åº”å¼è®¾è®¡
- âœ… é›†æˆé¢„è®¾é—®é¢˜åŠŸèƒ½
- âœ… ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ

---

**æ³¨æ„**ï¼šæœ¬éƒ¨ç½²æŒ‡å—åŸºäºRAGç³»ç»ŸV3.0.0ç‰ˆæœ¬ç¼–å†™ï¼Œå¦‚æœ‰ç–‘é—®è¯·å‚è€ƒé¡¹ç›®æ–‡æ¡£æˆ–è”ç³»æŠ€æœ¯æ”¯æŒã€‚
